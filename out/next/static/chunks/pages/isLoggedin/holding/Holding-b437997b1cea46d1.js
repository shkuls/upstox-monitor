(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[949],{3182:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/isLoggedin/holding/Holding",function(){return s(8619)}])},647:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var n=s(7066);function a(e,t){try{(0,n.Z)({method:"get",maxBodyLength:1/0,url:"https://api.upstox.com/v2/portfolio/long-term-holdings",headers:{Authorization:"Bearer ".concat(e),Accept:"application/json"}}).then(e=>{t(e.data)})}catch(e){console.error("Error fetching data:",e)}}s(7294)},7341:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return a}});var n=s(5893);function a(){let e=()=>{chrome.tabs.create({url:"".concat("https://stock-monitor-backend-theta.vercel.app","/login")})};return(0,n.jsx)("div",{className:"h-[200px] flex",children:(0,n.jsx)("button",{className:"bg-[#41246E] text-white w-1/3 h-[40px] p-2 rounded-md hover:w-[40%] hover:h-[50px] transition-all m-auto text-sm active:w-[37%] active:h-[45px] hover:text-lg hover:bg-[#6c48a3]",onClick:e,children:"Login"})})}s(7294)},6616:function(e,t,s){"use strict";s.r(t),s.d(t,{AccessContext:function(){return o},default:function(){return i}});var n=s(5893),a=s(7294),l=s(3295),c=s(7341),r=s(7066);let o=a.createContext();function i(){let[e,t]=(0,a.useState)(!1),[s,i]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=new Date().getTime(),s=JSON.parse(localStorage.getItem("accessData"));s&&(e-s.token_creation_time)/1e3<3e4?(i(s.access_token),t(!0)):r.Z.get("https://stock-monitor-backend-theta.vercel.app/getLogin").then(s=>{if(s.data){let n={access_token:s.data,token_creation_time:e};localStorage.setItem("accessData",JSON.stringify(n)),i(s.data),t(!0)}}).catch(e=>console.error("Error:",e))}),(0,n.jsx)(o.Provider,{value:s,children:(0,n.jsx)("div",{className:"h-5/6",children:e?(0,n.jsx)(l.default,{}):(0,n.jsx)(c.default,{})})})}},3295:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var n=s(5893),a=s(7294),l=s(6307),c=s(8619);function r(){let[e,t]=(0,a.useState)("holding");return(0,n.jsxs)("div",{className:"h-full ",children:[(0,n.jsxs)("div",{className:"bg-[#5A298B] flex flex-row justify-around w-full m-auto h-",children:[(0,n.jsx)("button",{className:"headerButton text-sm text-white p-3 tracking-widest",onClick:()=>{t("holding")},children:"Holding"}),(0,n.jsx)("button",{className:"headerButton text-sm text-white p-3 tracking-widest",onClick:()=>{t("portfoliolist")},children:"Portfolio"})]}),(0,n.jsx)("div",{className:"bg-white",children:"holding"==e?(0,n.jsx)(c.default,{}):(0,n.jsx)(l.default,{})})]})}},8619:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return u}});var n=s(5893),a=s(7294);function l(e){return(0,n.jsxs)("div",{className:"border rounded-xl  m-2 w-3/4 p-3 flex flex-row justify-between",children:[(0,n.jsxs)("span",{className:"flex flex-col",children:[(0,n.jsx)("h1",{className:"text-md",children:e.props.company_name}),(0,n.jsx)("h1",{className:"text-[12px]",children:"Current ₹"+e.props.last_price})]}),(0,n.jsxs)("span",{className:"m-auto",children:[(0,n.jsx)("p",{className:"text-[10px] text-center w-1/2 m-auto",children:"P/L"}),(0,n.jsx)("h2",{className:"text-sm m-auto ".concat(e.props.pnl>0?"text-green-600":"text-red-600"),children:"₹"+e.props.pnl})]})]})}var c=s(6616),r=s(647),o=s(1664),i=s.n(o);function u(){let e=(0,a.useContext)(c.AccessContext),[t,s]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let n=new Date;16>n.getHours()&&8<n.getHours()?setInterval(()=>{(0,r.default)(e,s),(null==t?void 0:t.status)!="success"&&u(!1)},1810):((0,r.default)(e,s),(null==t?void 0:t.status)!="success"&&u(!1))},[]);let d=0;return o?(0,n.jsx)("p",{className:"w-1/2 text-center m-auto",children:"Loading... "}):(0,n.jsxs)("div",{className:"flex flex-row",children:[(0,n.jsx)("div",{className:"flex flex-col",children:null==t?void 0:t.data.map((e,t)=>(d+=e.pnl,(0,n.jsx)(l,{props:e},t)))}),(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("span",{className:"flex flex-col mt-10",children:[(0,n.jsx)("p",{className:"text-center font-sm]",children:"Net P/L"}),(0,n.jsx)("p",{className:"text-sm m-auto ".concat(d>0?"text-green-600":"text-red-600"),children:"₹"+d.toFixed(2)})]}),(0,n.jsx)(i(),{className:"bg-[#41246E] text-white w-full   h-[40px] p-2 rounded-md transition-all m-auto text-sm active:bg-[#986bdb] hover:bg-[#6c48a3] text-center",href:"https://pro.upstox.com/",children:"Open Upstox"})]})]})}},6307:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return r}});var n=s(5893),a=s(7294),l=s(6616),c=s(647);function r(){let e=(0,a.useContext)(l.AccessContext),[t,s]=(0,a.useState)([]),[r,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{let n=new Date;16>n.getHours()&&8<n.getHours()?setInterval(()=>{(0,c.default)(e,s),(null==t?void 0:t.status)!="success"&&o(!1)},1810):((0,c.default)(e,s),(null==t?void 0:t.status)!="success"&&o(!1))},[]);let i=0,u=0;if(t){var d;null==t||null===(d=t.data)||void 0===d||d.forEach(e=>{u+=e.pnl,i+=e.last_price*e.quantity})}let x=i+u;return r?(0,n.jsx)("p",{className:"w-1/2 text-center m-auto",children:"Loading..."}):(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:" flex flex-row ",children:[(0,n.jsxs)("span",{className:"flex flex-col flex-auto border rounded-xl m-3",children:[(0,n.jsx)("h1",{className:"text-[12px] text-center",children:"Invested Amount"}),(0,n.jsx)("h1",{className:"text-md text-center",children:"₹"+i})]}),(0,n.jsxs)("span",{className:"flex flex-col flex-auto border rounded-xl m-3",children:[(0,n.jsx)("h1",{className:"text-[12px] text-center",children:"Portfolio"}),(0,n.jsx)("h1",{className:"text-md text-center ".concat(x>i?"text-green-600":"text-red-600"),children:"₹"+x})]})]}),(0,n.jsxs)("span",{className:"flex flex-col  border rounded-xl m-3",children:[(0,n.jsx)("p",{className:"text-center font-sm",children:"Net P/L"}),(0,n.jsx)("p",{className:"text-sm m-auto ".concat(x>0?"text-green-600":"text-red-600"),children:"₹"+x.toFixed(2)})]})]})}}},function(e){e.O(0,[66,664,774,888,179],function(){return e(e.s=3182)}),_N_E=e.O()}]);